import{ae as b,af as L,ag as k,ah as A,t as P,q,f as M,aa as V,a6 as C,ai as W,aj as m,ak as Y,H as j,al as z,am as T,y as E,x as I,p as F,C as y,an as G,ao as U,ap as X,aq as x,ar as J,as as K,at as Q,au as Z,A as tt,h as N,a2 as et,X as at,a5 as rt}from"./CQPBOp8T.js";import{a as nt,e as st}from"./CsrZeD0d.js";const it=["touchstart","touchmove"];function ot(t){return it.includes(t)}function dt(t){return t==null?void 0:t.replace(/\//g,"/â€‹")}function B(t){var e=k,r=A;b(null),L(null);try{return t()}finally{b(e),L(r)}}function ht(t,e,r,s=r){t.addEventListener(e,()=>B(r));const n=t.__on_r;n?t.__on_r=()=>{n(),s(!0)}:t.__on_r=()=>s(!0),nt()}const ut=new Set,O=new Set;function ft(t,e,r,s={}){function n(a){if(s.capture||g.call(e,a),!a.cancelBubble)return B(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?q(()=>{e.addEventListener(t,n,s)}):e.addEventListener(t,n,s),n}function vt(t,e,r,s,n){var a={capture:s,passive:n},l=ft(t,e,r,a);(e===document.body||e===window||e===document)&&P(()=>{e.removeEventListener(t,l,a)})}function g(t){var R;var e=this,r=e.ownerDocument,s=t.type,n=((R=t.composedPath)==null?void 0:R.call(t))||[],a=n[0]||t.target,l=0,f=t.__root;if(f){var c=n.indexOf(f);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var d=n.indexOf(e);if(d===-1)return;c<=d&&(l=c)}if(a=n[l]||t.target,a!==e){M(t,"currentTarget",{configurable:!0,get(){return a||r}});var v=k,u=A;b(null),L(null);try{for(var i,o=[];a!==null;){var _=a.assignedSlot||a.parentNode||a.host||null;try{var h=a["__"+s];if(h!=null&&(!a.disabled||t.target===a))if(V(h)){var[$,...H]=h;$.apply(a,[t,...H])}else h.call(a,t)}catch(w){i?o.push(w):i=w}if(t.cancelBubble||_===e||_===null)break;a=_}if(i){for(let w of o)queueMicrotask(()=>{throw w});throw i}}finally{t.__root=e,delete t.currentTarget,b(v),L(u)}}}function pt(t,e,r,s,n,a=!1,l=!1){var d,v;let f,c;try{f=t()}catch(u){c=u}if(typeof f!="function"&&(a||f!=null||c)){const u=s==null?void 0:s[C],i=n?` at ${u}:${n[0]}:${n[1]}`:` in ${u}`,o=((d=r[0])==null?void 0:d.eventPhase)<Event.BUBBLING_PHASE?"capture":"",h=`\`${((v=r[0])==null?void 0:v.type)+o}\` handler${i}`;if(W(h,l?"remove the trailing `()`":"add a leading `() =>`"),c)throw c}f==null||f.apply(e,r)}function yt(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function lt(t,e){return D(t,e)}function gt(t,e){m(),e.intro=e.intro??!1;const r=e.target,s=N,n=y;try{for(var a=Y(r);a&&(a.nodeType!==8||a.data!==j);)a=z(a);if(!a)throw T;E(!0),I(a),F();const l=D(t,{...e,anchor:a});if(y===null||y.nodeType!==8||y.data!==G)throw U(),T;return E(!1),l}catch(l){if(l===T)return e.recover===!1&&X(),m(),x(r),E(!1),lt(t,e);throw l}finally{E(s),I(n)}}const p=new Map;function D(t,{target:e,anchor:r,props:s={},events:n,context:a,intro:l=!0}){m();var f=new Set,c=u=>{for(var i=0;i<u.length;i++){var o=u[i];if(!f.has(o)){f.add(o);var _=ot(o);e.addEventListener(o,g,{passive:_});var h=p.get(o);h===void 0?(document.addEventListener(o,g,{passive:_}),p.set(o,1)):p.set(o,h+1)}}};c(K(ut)),O.add(c);var d=void 0,v=Q(()=>{var u=r??e.appendChild(Z());return tt(()=>{if(a){et({});var i=at;i.c=a}n&&(s.$$events=n),N&&st(u,null),d=t(u,s)||{},N&&(A.nodes_end=y),a&&rt()}),()=>{var _;for(var i of f){e.removeEventListener(i,g);var o=p.get(i);--o===0?(document.removeEventListener(i,g),p.delete(i)):p.set(i,o)}O.delete(c),u!==r&&((_=u.parentNode)==null||_.removeChild(u))}});return S.set(d,v),d}let S=new WeakMap;function wt(t,e){const r=S.get(t);return r?(S.delete(t),r(e)):(J(),Promise.resolve())}export{dt as a,pt as b,vt as e,gt as h,ht as l,lt as m,yt as s,wt as u};
